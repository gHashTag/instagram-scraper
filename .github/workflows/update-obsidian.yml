name: ğŸ”„ Update Obsidian Vault Daily

on:
  schedule:
    - cron: '0 6 * * *'
  workflow_dispatch:
    inputs:
      project_id:
        description: 'Project ID'
        default: '1'

jobs:
  update-vault:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ Checkout
        uses: actions/checkout@v4
      - name: ğŸŸ¢ Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: '20'
      - name: ğŸ“¦ Install dependencies
        run: npm install
      - name: ğŸ“± Send Telegram notification
        env:
          TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        run: |
          echo "ğŸ“± ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Telegram ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ..."
          if [ -n "$TELEGRAM_BOT_TOKEN" ]; then
            curl -s -X POST "https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/sendMessage" \
              -d "chat_id=144022504" \
              -d "text=âœ… GitHub Actions Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚! ğŸ”„ Workflow Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾."
            echo "ğŸ“± Telegram ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾!"
          else
            echo "âš ï¸ TELEGRAM_BOT_TOKEN Ğ½Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½"
          fi
