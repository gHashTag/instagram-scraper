name: üîÑ Update Obsidian Vault Daily

on:
  schedule:
    - cron: '0 6 * * *'
  workflow_dispatch:
    inputs:
      project_id:
        description: 'Project ID'
        default: '1'

jobs:
  update-vault:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: '20'
      - name: Install
        run: npm ci
      - name: Send Telegram
        env:
          TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        run: |
          curl -X POST "https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/sendMessage" \
            -d "chat_id=144022504" \
            -d "text=‚úÖ GitHub Actions —Ä–∞–±–æ—Ç–∞–µ—Ç! Workflow –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ."
